{"version":3,"file":"utils.min.js","sources":["utils.js"],"names":["module","exports","_","require","Promise","global","undefined","console","log","error","App","Utils","nextTick","func","setTimeout","defer","args","Array","prototype","slice","apply","arguments","f","realArgs","done","reject","queueing","q","cbs","next","isFunction","head","tail","this","push","debug","inherits","ctor","superCtor","_super","Object","create","constructor","value","enumerable","writable","configurable","clone","obj","copy","attr","hasOwnProperty","deepClone","createLogger","prefix","loglevel","lookup","info","warn","_logger","level","toLowerCase","bind","sysLogger","ab2str","buf","String","fromCharCode","Uint16Array","str2ab","str","ArrayBuffer","length","bufView","i","strLen","charCodeAt","buffer","noop","toArray","isArray","existy","val","truthy","isTrue","isFalse","isNegativeNum","isNumber","isZero","isOne","isPositiveNum","doWhenOrElse","cond","action","alternative","values","context","arr","doWhen","getOrElse","els","checkOrElse","pred","router","routingTable","route","path","add","tryParseJSON","result","JSON","parse","e","stack","parseJsonWithoutError","objectId","lastNow","Date","now","seq","CHARS","split","id","n","Math","ceil","toString","Number","shuffle","join","substr","uuid","s4","floor","random","substring","mongoDBId2Ts","mongoDBId","hex","parseInt","mongoDBId2Date","padLeft","target","p","pad","padLeftNZero","c","twoDigits","formatMMDDhhmm","d","getMonth","getDate","getHours","getMinutes","formatYYYYMMDDHHMMSS","getFullYear","getSeconds","nullGuard","t","escapeHtml","html","replace"],"mappings":";;;;;;;;AAWA,GAAsB,mBAAXA,SAA0BA,OAAOC,QAE1C,GAAIC,GAAeC,QAAQ,cACvBC,QAAeD,QAAQ,eAAeC,SAK5C,SAAUC,EAAQH,EAAGE,EAASE,GAC5B,YACA,MAAMJ,IAAKE,IAULC,EAAOE,SAAWF,EAAOE,QAAQC,IAAK,MAAOD,SAAQE,MAAM,qEAMjE,IAAIC,GAAML,EAAOK,QAQbC,EAAQD,EAAIC,SAUZC,EAAW,SAASC,GACtBC,WAAWD,EAAM,GAEnBF,GAAMC,SAAWA,CA0CjB,IAAIG,GAAQ,WACV,GAAIC,GAAWC,MAAMC,UAAUC,MAAMC,MAAMC,WACvCC,EAAWN,EAAK,GAChBO,EAAWP,EAAKG,MAAM,EAE1B,OAAO,IAAIf,GAAQ,SAASoB,EAAMC,GAChC,MAAOH,GAAEE,EAAMC,EAAQF,KAG3BZ,GAAMI,MAAQA,CAUd,IAAIW,GAAW,WACb,GAAIC,GAAI,WACN,GAAIC,KACJ,QACEC,KAAM,WACJ,GAAI3B,EAAE4B,WAAW5B,EAAE6B,KAAKH,IAAM,CAC5B,GAAIf,GAAOX,EAAE6B,KAAKH,EAClBA,GAAM1B,EAAE8B,KAAKJ,GACbf,EAAKO,MAAMa,KAAMhB,MAAMC,UAAUC,MAAMC,MAAMC,cAKjDa,KAAK,SAASrB,GACZe,EAAIM,KAAKrB,IAEXsB,MAAM,WAAW,MAAOP,OAG5B,OAAOD,GAEThB,GAAMe,SAAWA,CAYjB,IAAIU,GAAW,SAASC,EAAMC,GAC5BD,EAAKE,OAASD,EACdD,EAAKnB,UAAYsB,OAAOC,OAAOH,EAAUpB,WACvCwB,aACEC,MAAON,EACPO,YAAY,EACZC,UAAU,EACVC,cAAc,KAIpBnC,GAAMyB,SAAWA,CAUjB,IAAIW,GAAQ,SAASC,GACnB,GAAI,OAASA,GAAO,gBAAoBA,GAAK,MAAOA,EACpD,IAAIC,GAAOD,EAAIN,aACf,KAAK,GAAIQ,KAAQF,GACXA,EAAIG,eAAeD,KAAOD,EAAKC,GAAQF,EAAIE,GAEjD,OAAOD,GAETtC,GAAMoC,MAAQA,CAUd,IAAIK,GAAY,SAASJ,GACvB,GAAI,OAASA,GAAO,gBAAoBA,GAAK,MAAOA,EACpD,IAAIC,GAAOD,EAAIN,aACf,KAAK,GAAIQ,KAAQF,GACXA,EAAIG,eAAeD,KAEnBD,EAAKC,GADkB,gBAAdF,GAAIE,GACAE,EAAUJ,EAAIE,IAEdF,EAAIE,GAIvB,OAAOD,GAETtC,GAAMyC,UAAYA,CAUlB,IAAIC,GAAe,SAASC,EAAQC,GAClC,GAAIC,IACFhD,IAAO,EACP2B,MAAS,EACTsB,KAAQ,EACRC,KAAQ,EACRjD,MAAS,GAEPkD,GACFnD,IAAK,aACL2B,MAAO,aACPsB,KAAM,aACNC,KAAM,aACNjD,MAAO,cAELmD,EAAQJ,EAAOD,EAAW,GAAGM,gBAAkB,CACnD,OAAKxD,GAAOE,SAERqD,EAAQ,GAAKvD,EAAOE,QAAQC,KAAOH,EAAOE,QAAQC,IAAIsD,OACxDH,EAAQnD,IAAM,WACZ,MAAOH,GAAOE,QAAQC,IAAIsD,KAAKzD,EAAOE,QAAS+C,OAI/CM,EAAQ,GAAKvD,EAAOE,QAAQ4B,OAAS9B,EAAOE,QAAQ4B,MAAM2B,OAC5DH,EAAQxB,MAAQ,WACd,MAAO9B,GAAOE,QAAQ4B,MAAM2B,KAAKzD,EAAOE,QAAS+C,OAIjDM,EAAQ,GAAKvD,EAAOE,QAAQkD,MAAQpD,EAAOE,QAAQkD,KAAKK,OAC1DH,EAAQF,KAAO,WACb,MAAOpD,GAAOE,QAAQkD,KAAKK,KAAKzD,EAAOE,QAAS+C,OAIhDM,EAAQ,GAAKvD,EAAOE,QAAQmD,MAAQrD,EAAOE,QAAQmD,KAAKI,OAC1DH,EAAQD,KAAO,WACb,MAAOrD,GAAOE,QAAQmD,KAAKI,KAAKzD,EAAOE,QAAS+C,OAIhDjD,EAAOE,QAAQE,OAASJ,EAAOE,QAAQE,MAAMqD,OAC/CH,EAAQlD,MAAQ,WACd,MAAOJ,GAAOE,QAAQE,MAAMqD,KAAKzD,EAAOE,QAAS+C,OAG9CK,GA/BqBA,EAiC9BhD,GAAM0C,aAAeA,CACrB,IAAIU,GAAYV,EAAa,oBAAqB,SAY9CW,EAAS,SAASC,GACpB,MAAOC,QAAOC,aAAa/C,MAAM,KAAM,GAAIgD,aAAYH,IAEzDtD,GAAMqD,OAASA,CAaf,IAAIK,GAAS,SAASC,GAGpB,IAAK,GAFDL,GAAM,GAAIM,aAAyB,EAAbD,EAAIE,QAC1BC,EAAU,GAAIL,aAAYH,GACrBS,EAAI,EAAGC,EAASL,EAAIE,OAAYG,EAAJD,EAAYA,IAC/CD,EAAQC,GAAKJ,EAAIM,WAAWF,EAE9B,OAAOD,GAAQI,OAEjBlE,GAAM0D,OAASA,CASf,IAAIS,GAAO,WACP,MAAO,QAEXnE,GAAMmE,KAAOA,CAUb,IAAI3D,GAAQ,SAAS6B,GACnB,MAAO/B,OAAMC,UAAUC,MAAMC,MAAM4B,GAErCrC,GAAMQ,MAAQA,CAUd,IAAI4D,GAAU,SAAS/B,GACrB,MAAO9C,GAAE8E,QAAQhC,GAAOA,GAAOA,GAEjCrC,GAAMoE,QAAUA,CAUhB,IAAIE,GAAS,SAASC,GACpB,MAAe,QAARA,GAAgBA,IAAQ5E,EAEjCK,GAAMsE,OAASA,CAWf,IAAIE,GAAS,SAASD,GACpB,MAAQA,MAAQ,GAAUD,EAAOC,GAEnCvE,GAAMwE,OAASA,CAUf,IAAIC,GAAS,SAASF,GAClB,MAAOA,MAAQ,EAEnBvE,GAAMyE,OAASA,CAUf,IAAIC,GAAU,SAASH,GACrB,MAAOA,MAAQ,EAEjBvE,GAAM0E,QAAUA,CAUhB,IAAIC,GAAgB,SAASJ,GAC3B,MAAOhF,GAAEqF,SAASL,IAAc,EAANA,EAE5BvE,GAAM2E,cAAgBA,CAUtB,IAAIE,GAAS,SAASN,GACpB,MAAe,KAARA,EAETvE,GAAM6E,OAASA,CAUf,IAAIC,GAAQ,SAASP,GACnB,MAAe,KAARA,EAETvE,GAAM8E,MAAQA,CAUd,IAAIC,GAAgB,SAASR,GAC3B,MAAOhF,GAAEqF,SAASL,IAAQA,EAAM,EAElCvE,GAAM+E,cAAgBA,CActB,IAAIC,GAAe,SAASC,EAAMC,EAAQC,EAAaC,EAAQC,GAC3D,GAAIC,GAAMlB,EAAQgB,EAClB,OAAIZ,GAAOS,GACFC,EAAOzE,MAAM4E,EAASC,GAEtBH,EAAY1E,MAAM4E,EAASC,GAExCtF,GAAMgF,aAAeA,CAarB,IAAIO,GAAS,SAASN,EAAMC,EAAQE,EAAQC,GAC1CL,EAAaC,EAAMC,EAAQf,EAAMiB,EAAQC,GAE3CrF,GAAMuF,OAASA,CAWf,IAAIC,GAAY,SAASjB,EAAKkB,GAC5B,MAAOnB,GAAOC,GAAOA,EAAMkB,EAE7BzF,GAAMwF,UAAYA,CAYlB,IAAIE,GAAc,SAASnB,EAAKkB,EAAKE,GACnC,MAAOnB,GAAOmB,EAAKpB,IAAQA,EAAMkB,EAEnCzF,GAAM0F,YAAcA,CAoBpB,IAAIE,GAAS,WACX,GAAIC,MACAD,GACFE,MAAO,SAASC,EAAMX,GACpBG,EAAOhG,EAAE4B,WAAW0E,EAAaE,IAAQF,EAAaE,GAAOX,IAE/DY,IAAK,SAASD,EAAM7F,GAClB2F,EAAaE,GAAQ7F,GAGzB,OAAO0F,GAET5F,GAAM4F,OAASA,CAWf,IAAIK,GAAe,SAAStC,GAC1B,GAAIuC,IAAU,KAAM,KACpB,KACEA,EAAO,GAAKC,KAAKC,MAAMzC,GACvB,MAAO0C,GAEPjD,EAAUvD,IAAI,uBAAwBwG,EAAEC,OACxCJ,EAAO,GAAKG,EAEd,MAAOH,GAETlG,GAAMiG,aAAeA,CAUrB,IAAIM,GAAwB,SAAS5C,GACnC,MAAO6B,GAAUS,EAAatC,GAAK,OAErC3D,GAAMuG,sBAAwBA,CAU9B,IAAIC,GAAW,WACb,GAAIC,GAAUC,KAAKC,MACfC,EAAM,EACNC,EAAQ,mCAAmCC,MAAM,GACrD,OAAO,UAASC,GACd,GAAGA,EAAI,MAAOA,EACd,IAAIC,GAAKC,KAAKC,KAAKR,KAAKC,MAAM,KAAOQ,SAAS,GAS9C,OARIH,KAAMP,GACRG,IACAI,EAAIA,EAAI,GAAKI,OAAOR,EAAI,GAAI,MAE5BH,EAAUO,EACVJ,EAAM,EACNI,EAAIA,EAAI,GAAKJ,IAEPI,EAAIzH,EAAE8H,QAAQR,GAAOS,KAAK,KAAKC,OAAO,EAAE,OAGpDvH,GAAMwG,SAAWA,CASjB,IAAIgB,GAAO,WACT,GAAIC,GAAK,WACP,MAAOR,MAAKS,MAA4B,OAArB,EAAIT,KAAKU,WAAqBR,SAAS,IAAIS,UAAU,GAE1E,OAAO,YACL,MAAOH,KAAOA,IAAOA,IAAOA,OAGhCzH,GAAMwH,KAAOA,CAWb,IAAIK,GAAe,SAASC,GAC1B,GAAIC,IAAOD,EAAU,IAAIF,UAAU,EAAG,EACtC,OAAOI,UAASD,EAAK,IAEvB/H,GAAM6H,aAAeA,CAWrB,IAAII,GAAiB,SAASH,GAC5B,MAAO,IAAIpB,MAA6B,IAAxBmB,EAAaC,IAE/B9H,GAAMiI,eAAiBA,CAYvB,IAAIC,GAAU,SAASC,EAAQnB,EAAGoB,GAChC,GAAIC,GAAMD,EAAIA,EAAI,GAAK,GACvB,QAAKD,EAAS,IAAItE,QAAUmD,EAAUmB,EAAS,GACxCD,EAAQG,EAAMF,EAAQnB,EAAGqB,GAElCrI,GAAMkI,QAAUA,CAUhB,IAAII,GAAe,SAAStB,GAC1B,MAAO,UAASuB,GACd,MAAOL,GAAQK,EAAGvB,EAAG,MAGzBhH,GAAMsI,aAAeA,CACrB,IAAIE,GAAYF,EAAa,GAUzBG,EAAiB,SAASC,GAC5B,MAAOF,GAAUE,EAAEC,WAAa,GAAK,IAAMH,EAAUE,EAAEE,WAAa,IAAMJ,EAAUE,EAAEG,YAAc,IAAML,EAAUE,EAAEI,cAExH9I,GAAMyI,eAAiBA,CAUvB,IAAIM,GAAuB,SAASL,GAClC,MAAOA,GAAEM,cAAgB,IAAMP,EAAeC,GAAK,IAAMF,EAAUE,EAAEO,cAEvEjJ,GAAM+I,qBAAuBA,CAU7B,IAAIG,GAAY,SAASC,GACvB,MAAO7E,GAAO6E,GAAKA,EAAI,GAEzBnJ,GAAMkJ,UAAYA,CAUlB,IAAIE,GAAa,SAASC,GACxB,MAAOA,GAAKC,QAAQ,KAAM,SACvBA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UAGnBtJ,GAAMoJ,WAAaA,EAEI,mBAAZ9J,UACa,mBAAXD,SAA0BA,OAAOC,UAC1CD,OAAOC,QAAUS,GAEnBT,QAAQS,IAAMA,GAEdL,EAAOK,IAAMA,GAGduB,KAAM/B,EAAGE,QAASE"}